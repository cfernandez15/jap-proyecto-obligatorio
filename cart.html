<!DOCTYPE html>
<html lang="es">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>eMercado - Todo lo que busques está aquí</title>
  <link href="https://fonts.googleapis.com/css?family=Raleway:300,300i,400,400i,700,700i,900,900i" rel="stylesheet">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
  <link href="css/font-awesome.min.css" rel="stylesheet">
  <link href="css/styles.css" rel="stylesheet">
</head>

<body>
 <!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark p-1 fixed-top">
  <div class="container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav w-100 justify-content-end" style="gap: 1.5em;">
        <li class="nav-item">
          <a class="nav-link" href="index.html"><i class="bi bi-house-fill"></i> Inicio</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="categories.html"><i class="bi bi-bag-fill"></i> Categorías</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="sell.html"><i class="bi bi-tag-fill"></i> Vender</a>
        </li>
        <li class="nav-item">
          <div class="dropdown">
            <a class="nav-link cursor-active" id="user" data-bs-toggle="dropdown"></a>
            <ul class="dropdown-menu bg-dark">
              <li><a class="dropdown-item" href="my-profile.html"><i class="bi bi-person-fill"></i> Perfil</a></li>
              <li><a class="dropdown-item" href="cart.html"><i class="bi bi-cart-fill"></i> Carrito  <span class="badge bg-primary float-end badge-cart" id="cart-items"></span></a></li>
              <li><a class="dropdown-item cursor-active" data-bs-toggle="modal" data-bs-target="#staticBackdrop"><i class="bi bi-gear-fill"></i> Opciones</a></li>
              <li><a class="dropdown-item cursor-active" onclick="logOut()"><i class="bi bi-x-lg"></i> Salir</a></li>
            </ul>
          </div> 
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Modal de Opciones -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header text-center">
        <h4 class="modal-title w-100">Opciones</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div class="first-option d-flex">
          <h5 class="text-black pe-3 pt-2">Modo oscuro: </h5>
          <div class="form-check form-switch form-control-lg justify-content-center">
            <input class="form-check-input pt-3" type="checkbox" id="mySwitch" name="darkmode" value="yes" checked>
          </div> 
        </div>
        <div class="second-option d-flex pt-1">
          <h5 class="text-black pe-3 mt-1">Idioma: </h5>
          <select class="form-select w-25">
            <option>Español</option>
            <option>Inglés</option>
          </select> 
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal">Cerrar</button>
      </div>

    </div>
  </div>
</div>

  <main class="py-5 d-flex flex-column align-items-center bg-light">
    <div class="alert alert-danger text-center w-25 invisible" id="emptyCartAlert">
      El carrito no puede estar vacío.
    </div>
    <div class="alert alert-success text-center w-25 invisible mx-auto my-auto" id="purchaseCompleted">
      Su compra ha sido realizada con éxito. Será redirigido en unos momentos...
    </div>   
    <h2 class="py-5" id="cart-title"><i class="bi bi-cart"></i> Carrito</h2>
    <div id="cart-list" class="container rounded-2 list-group overflow-auto border rounded-3 p-3 bg-white shadow" style="height: 500px; width: 900px;">
    </div>

    <div class="container my-5 d-none p-0" id="cart-steps" style="height: 600px; width: 900px;">
      <div class="d-flex justify-content-between" style="width: auto;">
        <div class="d-flex mb-5 justify-content-between overflow-visible border-bottom border-dark" style="height: 10px;width: 50%;" id="step1-progressbar">
          <div class="bg-primary rounded-circle" style="height: 20px; width: 20px;" data-bs-toggle="tooltip" data-bs-placement="top" title="Paso 1: Datos del envio">
            
          </div>
        </div>
        <div class="bg-dark rounded-circle" style="height: 20px; width: 20px;" data-bs-toggle="tooltip" data-bs-placement="top" title="Paso 2: Metodos de pago" id="step2-objective">
            
        </div>
        <div class="d-flex mb-5 justify-content-end overflow-visible border-bottom border-dark" style="height: 10px;width: 50%;" id="step2-progressbar">
          
          <div class="bg-dark rounded-circle" style="height: 20px; width: 20px;" data-bs-toggle="tooltip" data-bs-placement="top" title="Paso 3: Procesamiento del pago" id="step3-objective">
            
          </div>
        </div>
      </div>
      <div class="container border border-2 bg-white p-0 my-2 rounded-2 d-flex justify-content-between" style="height: 590px;" id="step1">
        <div id="delivery-details" style="width: 900px;">
          <div class="d-flex flex-column p-2" style="height: 100%;">
            <h4 class="text-secondary p-2">Datos del envío: </h4>
            <div class="d-flex flex-column pt-5 p-2">
              <h5>Tipo de envío: </h5>
                <div class="d-flex">
                  <div class="form-check">
                    <input type="radio" class="form-check-input" id="premium" name="optradio" value="0.15" novalidate>Premium
                    <label class="form-check-label" for="radio1"></label>
                  </div>
                  <i class="bi bi-patch-question cursor-active" data-bs-toggle="tooltip" data-bs-placement="right" title="2 a 5 dias habiles (15%)"></i>
                </div>
                <div class="d-flex">
                  <div class="form-check">
                    <input type="radio" class="form-check-input" id="express" name="optradio" value="0.07">Express
                    <label class="form-check-label" for="radio2"></label>
                    <i class="bi bi-patch-question cursor-active" data-bs-toggle="tooltip" data-bs-placement="right" title="5 a 8 dias habiles (7%)"></i>
                  </div>
                </div>
                <div class="d-flex">
                  <div class="form-check">
                    <input type="radio" class="form-check-input" id="standar" name="optradio" value="0.05" checked>Standar
                    <label class="form-check-label"></label>
                    <i class="bi bi-patch-question cursor-active" data-bs-toggle="tooltip" data-bs-placement="right" title="12 a 15 dias habiles (5%)"></i>
                  </div>
                </div>
                <h5 class="pt-5">Direccion del envio: </h5>
                <div class="row">
                  <div class="col-8">
                    <div class="form-floating">
                      <input type="text" class="form-control" id="calle" name="calle" minlength="8" placeholder="Calle" required oninput="checkInputValidity(this.id)">
                      <label for="calle">Calle</label>
                      <div class="invalid-feedback">Ingrese una calle.</div>
                    </div>
                  </div>
                  <div class="col-4">
                    <div class="form-floating">
                      <input type="text" class="form-control" id="numero" name="numero" minlength="4" placeholder="Numero" required oninput="checkInputValidity(this.id)">
                      <label for="numero">Número de vivienda</label>
                      <div class="invalid-feedback">Ingrese un número de vivienda.</div>
                    </div>
                  </div>
                  <div class="col-4">
                    <div class="form-floating">
                      <input type="text" class="form-control" id="esquina" name="esquina" minlength="6" placeholder="Esquina" required oninput="checkInputValidity(this.id)">
                      <label for="esquina">Esquina</label>
                      <div class="invalid-feedback">Ingrese una esquina.</div>
                    </div>
                  </div>
                </div>
            </div>
          </div>
        </div>
      </div>
      <div class="container border border-2 bg-white p-0 my-2 rounded-2 d-flex justify-content-between d-none" style="height: 590px;" id="step2">
        <div class="d-flex flex-column p-2" style="height: 100%;">
          <h4 class="text-secondary p-2">Métodos de pago</h4>
          <div class="d-flex">
            <h5 class="text-muted px-2" id="paymentMethod_text">No hay ningún método de pago seleccionado</h5>
            <a class="btn btn-link" data-bs-toggle="modal" data-bs-target="#paymentMethodModal">Seleccionar</a>
          </div>
          <div class="d-none p-2" id="errorText">
            <p class="text-danger">Agregue un método de pago antes de continuar</p>
          </div>
        </div>
      </div>
      <div class="container border border-2 bg-white p-0 my-2 rounded-2 d-flex justify-content-between d-none" style="height: 590px;" id="step3">
          <div class="d-flex flex-column p-2 col-7" style="height: 100%;">
            <div class="d-flex flex-column p-2" style="width: 400px;">
              <h4>Método de pago: </h3>
              <h5 id="paymentMethod_step3"></h4>
            </div>
            <div class="d-flex flex-column p-2">
              <h4>Dirección del envío: </h3>
              <h5 id="adress_step3"></h4>
            </div>
            </div>
            <div class="d-flex flex-column p-2 col-5" style="width: 500px;">
              <h4>Costos: </h3>
              <div class="d-flex flex-column pe-2" id="balance_step3">
    
              </div>
            </div>
      </div>
    </div>
      
      
    
  </div>
    <div class="pt-4 container d-flex justify-content-between" style="width: 920px; visibility: hidden;" id="cart-control">
      <div id="total-container" class="d-flex" style="gap: 0.5em;">
        <h4 class="text-dark mt-1">Total: </h4>
        <h4 class="text-dark mt-1" id="total"></h4>
        <select class="form-select" id="currency-select" onchange="convertPriceToCurrency(this.value)">
          <option value="USD">USD</option>
          <option value="UYU">UYU</option>
        </select>
      </div>
        <a class="btn btn-primary d-none" id="cart-prev1" onclick="prevStep(this.id)">Atras</a>
        <a class="btn btn-primary" id="cart-next1" onclick="nextStep(this.id)">Siguiente</a>
        <a class="btn btn-primary d-none" id="cart-purchase" onclick="finishPurchase(this.id)">Finalizar compra</a>
      </div>
<div class="modal" id="paymentMethodModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header border-bottom-3">
        <h5 class="modal-title">Métodos de pago</h5>
      </div>
      <div class="modal-body">
        <div class="d-flex flex-column">
          <form>
            <div>
              <div class="form-check d-flex p-0 pb-2 border-bottom" style="gap: 2.5em;">
                <label class="form-check-label" for="creditCard">Tarjeta de crédito: </label>
                <input type="radio" class="form-check-input" id="creditCard" name="optradio" onchange="changePaymentMethod(this.id)" checked>
              </div>
              <div class="row pt-2 g-2">
                <div class="col-8 form-floating">
                  <input type="text" class="form-control" pattern="[1-9]{1}[0-9]{11}" minlength="12" id="floatingCardNumber" placeholder="Numero" required oninput="checkInputValidity(this.id)">
                  <label for="floatingCardNumber">Número de la tarjeta</label>
                  <div class="invalid-feedback">
                    Ingrese un número de tarjeta válido.
                  </div>
                </div>
                <div class="col-4 form-floating">
                  <input type="text" class="form-control" pattern="[0-9]{3}" minlength="3" id="floatingSecurityCode" placeholder="Codigo" required oninput="checkInputValidity(this.id)">
                  <label for="floatingSecurityCode">Código de seg.</label>
                  <div class="invalid-feedback">
                    Ingrese un código de seguridad válido.
                  </div>
                </div>
                <div class="col-4 form-floating">
                  <input type="text" class="form-control" id="floatingVencimiento" pattern="((^0[1-9]{1})|(^1[0-2]{1}))[/]{1}[2]{1}[2-9]{1}" minlength="5" placeholder="Vencimiento" required oninput="checkInputValidity(this.id)">
                  <label for="floatingVencimiento">Venc. (MM/AA)</label>
                  <div class="invalid-feedback">
                    Ingrese una fecha de vencimiento válida.
                  </div>
                </div>
              </div>
            </div>
            <div>
              <div class="form-check d-flex p-0 py-2 border-bottom" style="gap: 2.5em;">
                <label class="form-check-label" for="bankAccount">Cuenta bancaria: </label>
                <input type="radio" class="form-check-input" id="bankAccount" name="optradio" onchange="changePaymentMethod(this.id)">
            </div>
            <div class="row pt-2 g-2">
              <div class="col-8 form-floating">
                <input type="text" class="form-control" pattern="[0-9]{12}" id="floatingCuentaBancaria" placeholder="Numero de cuenta" disabled required oninput="checkInputValidity(this.id)">
                <label for="floatingCuentaBancaria">Número de cuenta</label>
                <div class="invalid-feedback">
                  Ingrese un numero de cuenta valido.
                </div>
              </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <div class="text-danger d-none" id="paymentMethodError">
          Añade un método de pago.
        </div>
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-primary" onclick="addPaymentMethod()">Guardar</button>
      </div>
    </div>
  </div>
</div>
  </main>
  <footer class="text-muted">
    <div class="container">
      <p class="float-end">
        <a href="#">Volver arriba</a>
      </p>
      <p>Este sitio forma parte de <a href="https://jovenesaprogramar.edu.uy/" target="_blank">Jovenes a Programar</a> -
        2022</p>
      <p>Clickea <a target="_blank" href="Letra.pdf">aquí</a> para descargar la letra del obligatorio.</p>
    </div>
  </footer>
  <div id="spinner-wrapper">
    <div class="lds-ring">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
  <script src="js/bootstrap.bundle.min.js"></script>
  <script src="js/init.js"></script>
  <script src="js/cart.js"></script>
  <script>
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl)
    })
    </script>
</body>

</html>